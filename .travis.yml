sudo: false
language: node_js
branches:
  except:
  - latest
node_js:
- '8'
- '10'
before_script:
- npm install -g grunt-cli
- ./create_config.sh
script:
- grunt test
- ./bin/customer-export --projectKey ${COMMERCETOOLS_PROJECT_KEY} --clientId ${COMMERCETOOLS_CLIENT_ID} --clientSecret ${COMMERCETOOLS_CLIENT_SECRET} --csvTemplate data/template-customer-simple.csv
env:
  global:
  - secure: KRJn/gIm/cylfSrgy3oRtnD6Ms5iQQMVtLCiq/serwPbtZELDi2NjcnxNcmwJAMFeZiZDKqKntnsv12sTrz4/9ULbOx7L4wCO+np2iWI3bnaY2LQc1fO0uiZPEub/ZqgQH7Fsc9zZUeMPeNZU7W51Cy7pX/Q/uiqoxrNLr7N9f+aIk5OqxeXyHphG4pyqiuiC0BzAKHDNPIAOxI1veDJpn9MYr4CNbsD9G38zAZRl90MpqhrjvktZ15wppH7swzRO7lhuSpVQ/GdaFU9RjHwNv8RtfoGpH4Ew/Oi2t13zCyb9VxGdwIuL+P20W7q2eFpDsGI1+9Zhi+6a1V6kLquIJJINSRc+fPxZSD2/kG4WnU91yzIul8Hn4UGkSn1YP1+b+OzQ5EBFCD2JZpv45QuhXpNl/D08VRDKW6Mz2zaexKt5QyyjwySIgg7BuaUYFoKllU/7KBQqg1CUW7DKgCZmKnzuj8Sl4maWsUlNPd9r0/kWmvgGxmlPhQSev2CgdsM75iJlDiGZLEoVMwN3pfqk82/ttc+YBSRWH4kTx8euNMaZTnvbiL/HetU7fx8VZjsuv59YQpnFAJlIxgR3xqJkL0fEljoxRAIiD/YEZ8cVIZZP3b0wRyoUNWYrcqcSvygLFgOfFgPjY4hLKse+viHhVdgt5BGZljouZSZs8whU9Q=
  - secure: B8q7cvNre/LBBM88D4fSQSSxT02bzV/vB4aBR8yCbe4N0cIx1b1Em3F3QOsn9IVjGliEF3d3DwmimQ9qhiEnqVSuOw9DNFsDaizeojm60QKOTjmlNJNm9PtgfNXVCo1bRXYlmR6n1N2BDiEhMm7jep+pd0Ul6bD8DnHC0zSjVDCfrYnNDTJvYNixzRqe3DGw4++M9kEWj6oeLrMozbmjQ4BQh/yQ+miJHa9CBhhf0NhX6IJ+0D6Kpl8lve/IrmuasmXBQlKK9aiO5sJ5iGfik+43uHw39i9d9UB+6XpoTZR6OuEJhiry2jFLz0wHol86Fdym9xpI0Pg2KIL+dG1YDAXumfGuzjvBRR99RNIPpsJttWycjPxdqnH396eOt1oZswAiVN5Aa7swTW2yTouqVvNC7pI5CnNSj4Iug63dy/5SSB9YWFONRrzUYkDd9OKupzKozmzfXivGowIPDkj5j5PHJ0jk560GjQDES5VoCZJ3eGV19FMdtm3tW9GNbzcsIW+DUxV9HFgMhuQrQN26eW8e3LNCTrzSiqD4FMgiEqQ4HHNvTldqC3ccY7K7wBcYCs5IhJeqIX7LndHvz9ADNzZAUPesviMyjiE1I/UGPpCnSXmvBUuhlGSO0w/RMHLv7TcpSUtsaHv+IWnAL1TrPG6yXqyXI1BXaoCeEvD6bA8=
  - secure: MtdXdaJRTdlhE3p4gFd8xKF9SspE6kB02ZkxCvrIhEw0O759CLiAl/l6GUupyfAgjk5CsLhfvDNhr8mPB7xMcubNqOPOqIGt/psZMEc5nIAOCGXr+Mb77iadqLmrglM0wU6Sp0xXGbS6kFyX4sf4A/5A6b5WwDYGJDIxD+cYFaO3es52g3HjWA5aR30Xm35dv0LRE+4ky4pX8OGaP/32coEXrjDv36F+ADrETsOyjyAkA/89WXEePYoC/x4IZBWphvyFId8VSbFRc3L9EUA6iIiQ4byu3uZeJqSei0hS+ZoW8XECH/x58jY3iYVBUnUolI4oGupgL3Xi9IJXeW7Zb/umx9WEUvZatG8kWM/0FaikFIdET9xVFWOb4Px5ai2yFDkVgqLHgMH6G2UeUREOPhx1LpRjPs5obM3BH7I3JsGyL6eqOQ6XAakYdVasXEUU+Ql/o4rUGKgdaJxRGDxNSZaGfEuT0MtkIQbZkCuASoIGK2jwWbeT/lO7ABi9+4y79PvW7DCqEYD9sF5N9UFqfq8MJ926HN5jv4uSfFbXq/tcU4pMT+peX22F+p88xuucC0sXDshIgOlsxzcJ5YIl45Fuvm1sxIPlIlsuedDh2Bn1rqd02zuCSX3tmDoabJnr4cTbP+90zVycpwqcCHPSYvnICJLSFFM4T9WZVQpfmcw=